<div class="card">
    <p-toolbar>
        <div class="p-toolbar-group-right">
        </div>
        <div class="p-toolbar-group-left">
            <button [disabled]="saving" pButton pRipple class="p-button-success p-ml-1" (click)="submit()" label="ذخیره"
                [icon]="(saving?'pi pi-spin pi-spinner':'pi pi-save')"></button>
            <button pButton pRipple icon="pi pi-arrow-left" class="p-button-secondary" routerLink="../../list"></button>
        </div>
    </p-toolbar>
    <div class="p-grid p-fluid p-mt-2">
        <div class="p-col-12 p-lg-6 p-field">
            <label for="title">عنوان</label>
            <input type="text" name="title" id="title" pInputText [(ngModel)]="menu.title">
        </div>
        <div class="p-col-12 p-lg-6 p p-field">
            <label for="link">لینک</label>
            <input type="text" name="link" id="link" pInputText [(ngModel)]="menu.link">
        </div>
        <div class="p-col-12 p-lg-6 p p-field">
            <label for="image">آیکون منو</label>
            <div class="p-d-flex">
                <input id="image" dir="ltr" pInputText disabled [value]="imageFile?.name" />
                <input type="file" #image (change)="setImage(image.files)" style="display:none;">
                <button *ngIf="this.menu?.iconMediaId" pButton pRipple (click)="displayGallery=true" icon="pi pi-eye"
                    class="p-button p-button-help p-mr-1"></button>
                <button pButton pRipple (click)="image.click()" icon="pi pi-cloud-upload"
                    class="p-button p-button-success p-mr-1"></button>
            </div>
        </div>
        <div class="p-col-12 p-lg-3 p-pt-6">
            <div class="p-field-checkbox">
                <p-checkbox binary="true" inputId="binary" [(ngModel)]="isRoot" (onChange)="setAsRoot($event)">
                </p-checkbox>
                <label for="binary">ایجاد به عنوان منوی اصلی</label>
            </div>
        </div>
        <div class="p-col-12 p-lg-3">
            <button [disabled]="disableChooseButton" pButton pRipple
                [label]="(selectedMenu?selectedMenu.label:'انتخاب دسته یا زیردسته')" icon="pi pi-check"
                class="p-button-outlined p-mt-5" (click)="showMenus()"></button>
        </div>
    </div>
</div>

<p-galleria [(value)]="images" [(visible)]="displayGallery" [responsiveOptions]="responsiveOptions"
    [containerStyle]="{'max-width': '850px'}" [numVisible]="7" [circular]="true" [fullScreen]="true"
    [showItemNavigators]="true" [showThumbnails]="false" [baseZIndex]="100000">
    <ng-template pTemplate="item" let-item>
        <img [src]="item.url" style="width: 100%; display: block;" />
    </ng-template>
    <ng-template pTemplate="thumbnail" let-item>
        <div class="p-grid p-nogutter p-justify-center">
            <img [src]="item.thumbnailImageSrc" style="display: block;" />
        </div>
    </ng-template>
</p-galleria>