<div class="card">
  <p-toolbar>
    <div class="p-toolbar-group-right">
    </div>
    <div class="p-toolbar-group-left">
      <button [disabled]="saving" pButton pRipple class="p-button-success p-ml-1" (click)="submit()" label="ذخیره"
        [icon]="(saving?'pi pi-spin pi-spinner':'pi pi-save')"></button>
      <button pButton pRipple icon="pi pi-arrow-left" class="p-button-secondary" routerLink="../../tickets"></button>
    </div>
  </p-toolbar>
  <div class="p-grid p-fluid p-mt-2">
    <div class="p-col-12 p-lg-11 p-field">
      <label for="title">عنوان</label>
      <input #title="ngModel" type="text" pInputText [(ngModel)]="ticket.title" required
        [ngClass]="{'ng-dirty': (title.invalid && submitted) || (title.dirty && title.invalid)}">
      <small *ngIf="(title.invalid && submitted) || (title.dirty && title.invalid)" class="p-error">
        لطفا عنوان را وارد کنید
      </small>
    </div>
    <div class="p-col-12 p-lg-1 p-field">
      <label for="priority">اولویت</label>
      <p-dropdown [options]="priorities" [(ngModel)]="ticket.priority"></p-dropdown>
    </div>
    <div class="p-col-12 p-field">
      <label for="title">توضیحات</label>
      <textarea #text="ngModel" rows="5" cols="30" pInputTextarea autoResize="autoResize" [(ngModel)]="ticket.text"
        required [ngClass]="{'ng-dirty': (text.invalid && submitted) || (text.dirty && text.invalid)}"></textarea>
      <small *ngIf="(text.invalid && submitted) || (text.dirty && text.invalid)" class="p-error">
        لطفا توضیحات را وارد کنید
      </small>
    </div>
  </div>
</div>
