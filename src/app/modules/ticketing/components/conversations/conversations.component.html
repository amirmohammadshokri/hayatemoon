<div class="card">
    <p-toolbar>
        <div class="p-toolbar-group-right">
        </div>
        <div class="p-toolbar-group-left">
            <button pButton (click)="closeTicket()" label="بستن تیکت"
                [icon]="(closing?'pi pi-spin pi-spinner':'pi pi-save')"></button>
        </div>
    </p-toolbar>
    <div>
        <div *ngFor="let conversation of conversations" class="conversation">
            <div class="conversation-topbar p-d-flex p-ai-center p-px-2">
                <i class="p-ml-2 pi pi-user-circle"></i>
                <span>{{conversation.senderFullName}}</span>
                <span style="flex: 1 auto"></span>
                <button *ngIf="conversation.attachment" pButton icon="pi pi-paperclip"
                    class="p-ml-4 p-button-rounded p-button-help p-button-icon p-button-text"></button>
                <i class="p-ml-2 pi pi-eye"></i>
                <span>{{conversation.readDate}}</span>
                <i class="p-ml-2 p-mr-4 pi pi-pencil"></i>
                <span>{{conversation.saveDate}}</span>
            </div>
            <div class="conversation-body" [innerHtml]="conversation.text"></div>
        </div>
        <div class="p-d-flex p-mt-3">
            <div class="p-ml-1">
                <button pButton pRipple icon="pi pi-paperclip" class="p-button-secondary" (click)="file.click()"></button>
                <input type="file" #file (change)="addAttachment($event)" style="display:none;">
            </div>
            <div class="p-ml-2">
                <button pButton pRipple icon="pi pi-send" (click)="addConversation()"></button>
            </div>
            <textarea style="width:100%" rows="4" placeholder="توضیحات" pInputTextarea [(ngModel)]="conversation.text"
                autoResize="autoResize"></textarea>
        </div>
    </div>
</div>